> æ­¤æ–‡åˆè¡·å¦‚ä¸‹å‡ ç‚¹ï¼š
> 1. æºäºä¸ºäº†äº†è§£ä¸åŒé˜¶æ®µæµè§ˆå™¨å¯¹ä¸æœ‰äº›æ–¹æ³•çš„æ”¯æŒæƒ…å†µï¼Œæ–¹ä¾¿å¿«é€Ÿå®šä½ä¸åŒæµè§ˆå™¨ä¸‹çš„å…¼å®¹é—®é¢˜ï¼›
> 2. åŒæ—¶åšä¸ºæ–‡æ¡£æŸ¥é˜…ï¼Œèƒ½æ›´æ¸…æ¥šçš„äº†è§£æ¯ä¸€é˜¶æ®µçš„æ–°ç‰¹æ€§ï¼›
> 3. å¸®åŠ©å¤§å®¶é¢è¯•åŠ åˆ†ï¼Œè¯•é—®ç†ŸçŸ¥æ¯ä¸ªé˜¶æ®µçš„æ›´æ–°ç»†èŠ‚æ€»å½’ä¼šç»™é¢è¯•å®˜å¥½å°è±¡ï¼›
> 
> ä»¥æ­¤ä¸å¤§å®¶å…±å‹‰ï¼Œæœ‰å¸®åŠ©çš„è¯é¡ºæ‰‹ç»™ä¸ªèµï¼Œè°¢è°¢~~

### ES11æ–°ç‰¹æ€§ï¼ˆ2020å‘å¸ƒï¼‰

> ECMAScript è¯­è¨€è§„èŒƒçš„ç¬¬ 11 ç‰ˆæœ¬ã€‚

#### String.prototype.matchAll(regexp)

> `matchAll`æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æœåŠåˆ†ç»„æ•è·ç»„çš„è¿­ä»£å™¨ã€‚
>
> å…¥å‚ï¼š`regexp`ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚å¦‚æœæ‰€ä¼ å‚æ•°ä¸æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œåˆ™ä¼šéšå¼åœ°ä½¿ç”¨ `new RegExp(obj)` å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª [`RegExp`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/RegExp) ã€‚
>
> è¿”å›ï¼šä¸€ä¸ªè¿­ä»£å™¨ï¼ˆä¸å¯é‡ç”¨ï¼Œç»“æœè€—å°½éœ€è¦å†æ¬¡è°ƒç”¨æ–¹æ³•ï¼Œè·å–ä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ï¼‰ã€‚

- åŸºæœ¬ä½¿ç”¨

```javascript
const regexp = /t(e)(st(\d?))/g;
const str = "test1test2";

// è¿”å›è¿­ä»£å™¨
const iterator = str.matchAll(regexp);
const array = [...iterator];

console.log(array[0]);
// expected output: Array ["test1", "e", "st1", "1"]

console.log(array[1]);
// expected output: Array ["test2", "e", "st2", "2"]
```

- æ§åˆ¶å°æ‰§è¡Œ

![å‚çœ‹æ§åˆ¶å°](./images/matchAll.png)

- æ³¨æ„äº‹é¡¹ï¼š`matchAll`å…¥å‚`regexp`å¿…é¡»è·Ÿä¸Š`g`æŒ‰å…¨æ–‡æŸ¥æ‰¾ï¼Œå¦åˆ™ä¼šæŠ›å‡º`TypeError`å¼‚å¸¸

  - `/i` ï¼šå¿½ç•¥å¤§å°å†™

  - `/g` ï¼šå…¨æ–‡æŸ¥æ‰¾å‡ºç°çš„æ‰€æœ‰åŒ¹é…å­—ç¬¦

  - `/m` ï¼šå¤šè¡ŒæŸ¥æ‰¾

  - `/ig`ï¼šå…¨æ–‡æŸ¥æ‰¾ã€å¿½ç•¥å¤§å°å†™

![é”™è¯¯ä½¿ç”¨å‚è€ƒ](./images/matchAll_error.png)

- å…¼å®¹æ€§

![matchAll å…¼å®¹æ€§](./images/matchAll_broswer.png)

#### Dynamic import åŠ¨æ€å¼•å…¥

> æ ‡å‡†ç”¨æ³•çš„`import`å¯¼å…¥çš„æ¨¡å—æ˜¯é™æ€çš„ï¼Œä¼šä½¿æ‰€æœ‰è¢«å¯¼å…¥çš„æ¨¡å—ï¼Œåœ¨åŠ è½½æ—¶å°±è¢«ç¼–è¯‘ï¼ˆæ— æ³•åšåˆ°æŒ‰éœ€ç¼–è¯‘ï¼Œé™ä½é¦–é¡µåŠ è½½é€Ÿåº¦ï¼‰ã€‚
>
> æœ‰äº›åœºæ™¯ä¸­ï¼Œä½ å¯èƒ½å¸Œæœ›æ ¹æ®æ¡ä»¶å¯¼å…¥æ¨¡å—æˆ–è€…æŒ‰éœ€å¯¼å…¥æ¨¡å—ï¼Œè¿™æ—¶ä½ å¯ä»¥ä½¿ç”¨åŠ¨æ€å¯¼å…¥ä»£æ›¿é™æ€å¯¼å…¥ã€‚ä¸‹é¢çš„æ˜¯ä½ å¯èƒ½ä¼šéœ€è¦åŠ¨æ€å¯¼å…¥çš„åœºæ™¯ï¼š

- ä½¿ç”¨åœºæ™¯

  - å½“é™æ€å¯¼å…¥çš„æ¨¡å—å¾ˆæ˜æ˜¾çš„é™ä½äº†ä»£ç çš„åŠ è½½é€Ÿåº¦ä¸”è¢«ä½¿ç”¨çš„å¯èƒ½æ€§å¾ˆä½ï¼Œæˆ–è€…å¹¶ä¸éœ€è¦é©¬ä¸Šä½¿ç”¨å®ƒã€‚
  - å½“é™æ€å¯¼å…¥çš„æ¨¡å—å¾ˆæ˜æ˜¾çš„å ç”¨äº†å¤§é‡ç³»ç»Ÿå†…å­˜ä¸”è¢«ä½¿ç”¨çš„å¯èƒ½æ€§å¾ˆä½ã€‚
  - å½“è¢«å¯¼å…¥çš„æ¨¡å—ï¼Œåœ¨åŠ è½½æ—¶å¹¶ä¸å­˜åœ¨ï¼Œéœ€è¦å¼‚æ­¥è·å–
  - å½“å¯¼å…¥æ¨¡å—çš„è¯´æ˜ç¬¦ï¼Œéœ€è¦åŠ¨æ€æ„å»ºã€‚ï¼ˆé™æ€å¯¼å…¥åªèƒ½ä½¿ç”¨é™æ€è¯´æ˜ç¬¦ï¼‰
  - å½“è¢«å¯¼å…¥çš„æ¨¡å—æœ‰å‰¯ä½œç”¨ï¼ˆè¿™é‡Œè¯´çš„å‰¯ä½œç”¨ï¼Œå¯ä»¥ç†è§£ä¸ºæ¨¡å—ä¸­ä¼šç›´æ¥è¿è¡Œçš„ä»£ç ï¼‰ï¼Œè¿™äº›å‰¯ä½œç”¨åªæœ‰åœ¨è§¦å‘äº†æŸäº›æ¡ä»¶æ‰è¢«éœ€è¦æ—¶ã€‚ï¼ˆåŸåˆ™ä¸Šæ¥è¯´ï¼Œæ¨¡å—ä¸èƒ½æœ‰å‰¯ä½œç”¨ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™ï¼Œä½ æ— æ³•æ§åˆ¶ä½ æ‰€ä¾èµ–çš„æ¨¡å—çš„å†…å®¹ï¼‰

- å¸¸è§„ç”¨ä½œå¼‚æ­¥æŒ‰éœ€åŠ è½½

```javascript
function callback() {
  // åŒæ ·æ”¯æŒ await å†™æ³•
  import("moduleB")
    .then((module) => {
      // todo
    })
    .catch((err) => {
      // load error
    });
}
```

- å…¼å®¹æ€§

![import æµè§ˆå™¨å…¼å®¹æƒ…å†µ](./images/import_broswer.jpg)

#### import.meta

> `import.meta`æ˜¯ä¸€ä¸ªç»™ JavaScript æ¨¡å—æš´éœ²ç‰¹å®šä¸Šä¸‹æ–‡çš„å…ƒæ•°æ®å±æ€§çš„å¯¹è±¡ã€‚å®ƒåŒ…å«äº†è¿™ä¸ªæ¨¡å—çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´è¿™ä¸ªæ¨¡å—çš„ URLã€‚

- åŸºæœ¬ä½¿ç”¨

  - é€šè¿‡`script`æ ‡ç­¾å¼•ç”¨

  ```javascript
  <script type="module" src="my-module.mjs"></script>;

  // åœ¨ my-module.mjs ä¸­ä½¿ç”¨
  console.log(import.meta); // { url: "file:///home/user/my-module.mjs" }
  ```

  - é€šè¿‡ `import`å¼•ç”¨

  ```javascript
  // a.js
  import "b.js?param1=test";

  // b.js
  import.meta.url; // ...b.js?param1=test
  ```

- å…¼å®¹æ€§

![](./images/import.meta_broswer.png)

#### export * as alias from namespace

> æ¨¡å—é‡å®šå‘

- åŸºæœ¬ä½¿ç”¨

```javascript
// å¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨å½“å‰æ¨¡å—ä¸­ï¼Œå¯¼å‡ºæŒ‡å®šå¯¼å…¥æ¨¡å—çš„é»˜è®¤å¯¼å‡ºï¼ˆç­‰äºæ˜¯åˆ›å»ºäº†ä¸€ä¸ªâ€œé‡å®šå‘â€ï¼‰ï¼š
// module "redirect-module.js"
export {default} from './other-module';
export * from './other-module';
export * as otherName from './other-module';
```

- å…¼å®¹æ€§

![](./images/export_broswer.png)

#### Promise.allSettled(iterable)

> å…¥å‚ï¼šä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼Œå…¶ä¸­æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ `Promise`
>
> è¿”å›ï¼šä¸€ä¸ªåœ¨æ‰€æœ‰ç»™å®šçš„`promise`éƒ½å·²ç»`fulfilled`æˆ–`rejected`åçš„`promise`ï¼Œå¹¶å¸¦æœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡è¡¨ç¤ºå¯¹åº”çš„`promise`ç»“æœã€‚
>
> å½“æ‚¨æœ‰å¤šä¸ªå½¼æ­¤ä¸ä¾èµ–çš„å¼‚æ­¥ä»»åŠ¡æˆåŠŸå®Œæˆæ—¶ï¼Œæˆ–è€…æ‚¨æ€»æ˜¯æƒ³çŸ¥é“æ¯ä¸ª`promise`çš„ç»“æœæ—¶ï¼Œé€šå¸¸ä½¿ç”¨å®ƒã€‚
>
> ç›¸æ¯”ä¹‹ä¸‹ï¼Œ`Promise.all()` æ›´é€‚åˆå½¼æ­¤ç›¸äº’ä¾èµ–æˆ–è€…åœ¨å…¶ä¸­ä»»ä½•ä¸€ä¸ª`reject`æ—¶ç«‹å³ç»“æŸã€‚

- åŸºæœ¬ä½¿ç”¨

```javascript
const promise1 = Promise.resolve(3);
const promise2 = new Promise((resolve, reject) =>
  setTimeout(reject, 100, "foo")
);
const promises = [promise1, promise2];

Promise.allSettled(promises).then((results) =>
  results.forEach((result) => console.log(result.status))
);

// PromiseÂ {<pending>}
// fulfilled
// rejected
```

- å…¼å®¹æ€§

![](./images/promise.allSettled_broswer.png)

#### BigInt

> æœ€æ–°çš„ ECMAScript æ ‡å‡†å®šä¹‰äº† 8 ç§æ•°æ®ç±»å‹ï¼š7 ä¸­åŸå§‹ç±»å‹ï¼šBooleanã€Nullã€Undefinedã€Numberã€BigIntã€Stringã€Symbolï¼›å’Œ Objectï¼›
>
> [`BigInt`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/BigInt)ç±»å‹æ˜¯ JavaScript ä¸­çš„ä¸€ä¸ªåŸºç¡€çš„æ•°å€¼ç±»å‹ï¼Œå¯ä»¥ç”¨ä»»æ„ç²¾åº¦è¡¨ç¤ºæ•´æ•°ã€‚ä½¿ç”¨ BigIntï¼Œæ‚¨å¯ä»¥å®‰å…¨åœ°å­˜å‚¨å’Œæ“ä½œå¤§æ•´æ•°ï¼Œç”šè‡³å¯ä»¥è¶…è¿‡æ•°å­—çš„å®‰å…¨æ•´æ•°é™åˆ¶ã€‚
>
> **BigInt** æ˜¯ä¸€ç§å†…ç½®å¯¹è±¡ï¼Œå®ƒæä¾›äº†ä¸€ç§æ–¹æ³•æ¥è¡¨ç¤ºå¤§äº `2^53 - 1` çš„æ•´æ•°ã€‚è¿™åŸæœ¬æ˜¯ Javascript ä¸­å¯ä»¥ç”¨ [`Number`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number) è¡¨ç¤ºçš„æœ€å¤§æ•°å­—ã€‚**BigInt** å¯ä»¥è¡¨ç¤ºä»»æ„å¤§çš„æ•´æ•°ã€‚
>
> `BigInt`æ˜¯é€šè¿‡åœ¨æ•´æ•°æœ«å°¾é™„åŠ  `n `æˆ–è°ƒç”¨æ„é€ å‡½æ•°æ¥åˆ›å»ºçš„ã€‚
>
> é€šè¿‡ä½¿ç”¨å¸¸é‡[`Number.MAX_SAFE_INTEGER`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER)(2^53 - 1)ï¼Œæ‚¨å¯ä»¥è·å¾—å¯ä»¥ç”¨æ•°å­—é€’å¢çš„æœ€å®‰å…¨çš„å€¼ã€‚é€šè¿‡å¼•å…¥ BigIntï¼Œæ‚¨å¯ä»¥æ“ä½œè¶…è¿‡[`Number.MAX_SAFE_INTEGER`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER)çš„æ•°å­—ã€‚
>
> å¯ä»¥å¯¹`BigInt`ä½¿ç”¨è¿ç®—ç¬¦` +ã€``*ã€``-ã€``** `å’Œ`%`ï¼Œå°±åƒå¯¹æ•°å­—ä¸€æ ·ã€‚BigInt ä¸¥æ ¼æ¥è¯´å¹¶ä¸ç­‰äºä¸€ä¸ªæ•°å­—ï¼Œä½†å®ƒæ˜¯æ¾æ•£çš„ã€‚

- åŸºæœ¬ä½¿ç”¨

```javascript
const x = 2n ** 53n;
// â†ª 9007199254740992n
const y = x + 1n;
// â†ª 9007199254740993n
const previousMaxSafe = BigInt(Number.MAX_SAFE_INTEGER);
// â†ª 9007199254740991n
const maxPlusOne = previousMaxSafe + 1n;
// â†ª 9007199254740992n
const theFuture = previousMaxSafe + 2n;
// â†ª 9007199254740993n, this works now!
const multi = previousMaxSafe * 2n;
// â†ª 18014398509481982n
const subtr = multi â€“ 10n;
// â†ª 18014398509481972n
const mod = multi % 10n;
// â†ª 2n
const bigN = 2n ** 54n;
// â†ª 18014398509481984n
bigN * -1n
// â†ª â€“18014398509481984n
```

- åœ¨å°†`BigInt`è½¬æ¢ä¸º`Boolean`æ—¶ï¼Œå®ƒçš„è¡Œä¸ºç±»ä¼¼äºä¸€ä¸ªæ•°å­—ï¼š` ifã€``||ã€``&&ã€``Boolean å’Œ``!ã€‚ `

```javascript
0n === 0;
// â†ª false
0n == 0;
// â†ª true
```

- `BigInt`ä¸èƒ½ä¸æ•°å­—äº’æ¢æ“ä½œã€‚å¦åˆ™ï¼Œå°†æŠ›å‡º`TypeError`ã€‚

```javascript
1 + 1n; // Uncaught TypeError: Cannot mix BigInt and other types, use explicit conversions
```

- å½“ä½¿ç”¨ `BigInt` æ—¶ï¼Œå¸¦å°æ•°çš„è¿ç®—ä¼šè¢«å–æ•´ã€‚

```javascript
const expected = 4n / 2n;
// â†ª 2n
const rounded = 5n / 2n;
// â†ª 2n, not 2.5n
```

- Number å’Œ BigInt å¯ä»¥è¿›è¡Œæ¯”è¾ƒ

```javascript
1n == 1;
// â†ª true
1n === 1;
// â†ª false
1n < 2;
// â†ª true
2n > 1;
// â†ª true
2 > 2;
// â†ª false
2n > 2;
// â†ª false
2n >= 2;
// â†ª true

// ä¸¤è€…ä¹Ÿå¯ä»¥æ··åœ¨ä¸€èµ·è¿›è¡Œæ¯”è¾ƒ
const mixed = [4n, 6, -12n, 10, 4, 0, 0n];
// â†ª  [4n, 6, -12n, 10, 4, 0, 0n]
mixed.sort();
// â†ª [-12n, 0, 0n, 10, 4n, 4, 6]

// æ³¨æ„è¢« Object åŒ…è£…çš„ BigInts ä½¿ç”¨ object çš„æ¯”è¾ƒè§„åˆ™è¿›è¡Œæ¯”è¾ƒï¼Œåªç”¨åŒä¸€ä¸ªå¯¹è±¡åœ¨æ¯”è¾ƒæ—¶æ‰ä¼šç›¸ç­‰ã€‚
0n === Object(0n); // false
Object(0n) === Object(0n); // false
0n === 0n; // true
const o = Object(0n);
o === o; // true
```

- å…¼å®¹æ€§

![](./images/BigInt_broswer.png)

#### globalThis

> å…¨å±€å±æ€§ `globalThis` åŒ…å«å…¨å±€çš„ `this` å€¼ï¼Œç±»ä¼¼äºå…¨å±€å¯¹è±¡ï¼ˆglobal objectï¼‰ã€‚

- ä¹‹å‰ä¸åŒç¯å¢ƒä¸‹

  - `web`ä¸­ï¼šå¯ä»¥é€šè¿‡ `window`ã€`self` æˆ–è€… `frames` å–åˆ°å…¨å±€å¯¹è±¡
  - `Web Workers`ä¸­ï¼šåªæœ‰`self`å¯ä»¥
  - `Node.js`ä¸­ï¼šå¿…é¡»ä½¿ç”¨`global`
  - åœ¨æ¾æ•£æ¨¡å¼ä¸‹ï¼Œå¯ä»¥é€šè¿‡`this`æ¥è·å–å…¨å±€å¯¹è±¡
  - åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ`this`ä¼šè¿”å›`undefined`ï¼Œå¯ä»¥é€šè¿‡`function(){return this}`

- `globalThis`æä¾›äº†ä¸€ä¸ªæ ‡å‡†çš„æ–¹å¼æ¥è·å–ä¸åŒç¯å¢ƒä¸‹çš„å…¨å±€`this`å¯¹è±¡ï¼ˆå…¨å±€å¯¹è±¡è‡ªèº«ï¼‰

  > ä¸åƒ `window` æˆ–è€… `self` è¿™äº›å±æ€§ï¼Œå®ƒç¡®ä¿å¯ä»¥åœ¨æœ‰æ— çª—å£çš„å„ç§ç¯å¢ƒä¸‹æ­£å¸¸å·¥ä½œã€‚æ‰€ä»¥ï¼Œä½ å¯ä»¥å®‰å¿ƒçš„ä½¿ç”¨ `globalThis`ï¼Œä¸å¿…æ‹…å¿ƒå®ƒçš„è¿è¡Œç¯å¢ƒã€‚ä¸ºä¾¿äºè®°å¿†ï¼Œä½ åªéœ€è¦è®°ä½ï¼Œå…¨å±€ä½œç”¨åŸŸä¸­çš„ `this` å°±æ˜¯ `globalThis`ã€‚

- HTML ä¸ WindowProxy

  > åœ¨å¾ˆå¤šå¼•æ“ä¸­ï¼Œ `globalThis` è¢«è®¤ä¸ºæ˜¯çœŸå®çš„å…¨å±€å¯¹è±¡çš„å¼•ç”¨ï¼Œä½†æ˜¯åœ¨æµè§ˆå™¨ä¸­ï¼Œç”±äº iframe ä»¥åŠè·¨çª—å£å®‰å…¨æ€§çš„è€ƒè™‘ï¼Œå®ƒå®é™…å¼•ç”¨çš„æ˜¯çœŸå®å…¨å±€å¯¹è±¡ï¼ˆä¸å¯ä»¥è¢«ç›´æ¥è®¿é—®ï¼‰çš„ [`Proxy`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy) ä»£ç†ã€‚åœ¨é€šå¸¸çš„åº”ç”¨ä¸­ï¼Œå¾ˆå°‘ä¼šæ¶‰åŠåˆ°ä»£ç†ä¸å¯¹è±¡æœ¬èº«çš„åŒºåˆ«ï¼Œä½†æ˜¯ä¹Ÿéœ€è¦åŠ ä»¥æ³¨æ„ã€‚

- åŸºæœ¬ä½¿ç”¨

```javascript
// æ²¡æœ‰ globalThis ä¹‹å‰è·å–å…¨å±€å¯¹è±¡çš„ç»Ÿä¸€æ–¹å¼
var getGlobal = function () {
  if (typeof self !== "undefined") {
    return self;
  }
  if (typeof window !== "undefined") {
    return window;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw new Error("unable to locate global object");
};

var globals = getGlobal();

if (typeof globals.setTimeout !== "function") {
  // æ­¤ç¯å¢ƒä¸­æ²¡æœ‰ setTimeout æ–¹æ³•ï¼
}

// æœ‰äº† globalThis ä¹‹åï¼Œåªéœ€
if (typeof globalThis.setTimeout !== "function") {
  //  æ­¤ç¯å¢ƒä¸­æ²¡æœ‰ setTimeout æ–¹æ³•ï¼
}
```

- å…¼å®¹æ€§

![](./images/globalThis_broswer.png)

#### [Optional chaining (?.)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Optional_chaining)

> **å¯é€‰é“¾**æ“ä½œç¬¦( **`?.`** )å…è®¸è¯»å–ä½äºè¿æ¥å¯¹è±¡é“¾æ·±å¤„çš„å±æ€§çš„å€¼ï¼Œè€Œä¸å¿…æ˜ç¡®éªŒè¯é“¾ä¸­çš„æ¯ä¸ªå¼•ç”¨æ˜¯å¦æœ‰æ•ˆã€‚`?.` æ“ä½œç¬¦çš„åŠŸèƒ½ç±»ä¼¼äº `.` é“¾å¼æ“ä½œç¬¦ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œåœ¨å¼•ç”¨ä¸ºç©º([`null`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/null) æˆ–è€… [`undefined`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined)) çš„æƒ…å†µä¸‹ä¸ä¼šå¼•èµ·é”™è¯¯ï¼Œè¯¥è¡¨è¾¾å¼çŸ­è·¯è¿”å›å€¼æ˜¯ `undefined`ã€‚
>
> ä¸å‡½æ•°è°ƒç”¨ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¦‚æœç»™å®šçš„å‡½æ•°ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› `undefined`ã€‚

- è¯­æ³•

```javascript
obj?.prop // å¯¹è±¡å±æ€§
obj?.[expr] // å¯¹è±¡è¡¨è¾¾å¼
arr?.[index] // æ•°ç»„ç´¢å¼•
func?.(args) // æ–¹æ³•è°ƒç”¨
```

- åŸºæœ¬ä½¿ç”¨

```javascript
const adventurer = {
  name: 'Alice',
  cat: {
    name: 'Dinah'
  }
};

// ä¸å­˜åœ¨çš„å±æ€§
const dogName = adventurer.dog?.name;
console.log(dogName);
// expected output: undefined

// ä¸å­˜åœ¨çš„å‡½æ•°
console.log(adventurer.someNonExistentMethod?.());
// expected output: undefined
```

- ä»¥å¾€æ¯”è¾ƒä½¿ç”¨

```javascript
// ä¸ç”¨ ?.
let nestedProp = obj.first && obj.first.second;

// ä½¿ç”¨ ?.
// é€šè¿‡ä½¿ç”¨ ?. æ“ä½œç¬¦å–ä»£ . æ“ä½œç¬¦ï¼ŒJavaScript ä¼šåœ¨å°è¯•è®¿é—® obj.first.second ä¹‹å‰ï¼Œ
// 1. å…ˆéšå¼åœ°æ£€æŸ¥å¹¶ç¡®å®š obj.first æ—¢ä¸æ˜¯ null ä¹Ÿä¸æ˜¯ undefinedã€‚
// 2. å¦‚æœobj.first æ˜¯ null æˆ–è€… undefinedï¼Œè¡¨è¾¾å¼å°†ä¼šçŸ­è·¯è®¡ç®—ç›´æ¥è¿”å› undefinedã€‚
let nestedProp = obj.first?.second;

// ç­‰ä»·äº
let temp = obj.first;
let nestedProp = ((temp === null || temp === undefined) ? undefined : temp.second);
```

- ä¸å‡½æ•°è°ƒç”¨

> æ³¨æ„: å¦‚æœå­˜åœ¨ä¸€ä¸ªå±æ€§åä¸”ä¸æ˜¯å‡½æ•°, ä½¿ç”¨ ?. ä»ç„¶ä¼šäº§ç”Ÿä¸€ä¸ª TypeError å¼‚å¸¸ (x.y is not a function).

```javascript
// å½“ä½¿ç”¨ä¸€ä¸ªAPIçš„æ–¹æ³•å¯èƒ½ä¸å¯ç”¨æ—¶
// å‡½æ•°è°ƒç”¨æ—¶å¦‚æœè¢«è°ƒç”¨çš„æ–¹æ³•ä¸å­˜åœ¨ï¼Œä½¿ç”¨å¯é€‰é“¾å¯ä»¥ä½¿è¡¨è¾¾å¼è‡ªåŠ¨è¿”å›undefinedè€Œä¸æ˜¯æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚
let result = someInterface.customMethod?.();

// æ—§å†™æ³•
if (onError) { // æ ¡éªŒonErroræ˜¯å¦çœŸçš„å­˜åœ¨
  onError(err.message);
}

// æ–°å†™æ³•
onError?.(err.message); // å¦‚æœonErroræ˜¯undefinedä¹Ÿä¸ä¼šæœ‰å¼‚å¸¸

```

- ä¸è¡¨è¾¾å¼

```javascript
let nestedProp = obj?.['prop' + 'Name'];
```

- ä¸èƒ½ç”¨äºèµ‹å€¼

```javascript
let object = {};
object?.property = 1; // Uncaught SyntaxError: Invalid left-hand side in assignment
```

- è®¿é—®æ•°ç»„å…ƒç´ 

```javascript
let arrayItem = arr?.[42];
```

- å…¼å®¹æ€§

![](./images/optional_chaining_broswer.png)

#### [Nullish coalescing operator (??)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator)

> **ç©ºå€¼åˆå¹¶æ“ä½œç¬¦**ï¼ˆ**`??`**ï¼‰æ˜¯ä¸€ä¸ªé€»è¾‘æ“ä½œç¬¦ï¼Œå½“å·¦ä¾§çš„æ“ä½œæ•°ä¸º [`null`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/null) æˆ–è€… [`undefined`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined) æ—¶ï¼Œè¿”å›å…¶å³ä¾§æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦ä¾§æ“ä½œæ•°ã€‚
>
> ä¸[é€»è¾‘æˆ–æ“ä½œç¬¦ï¼ˆ`||`ï¼‰](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Logical_OR_2)ä¸åŒï¼Œé€»è¾‘æˆ–æ“ä½œç¬¦ä¼šåœ¨å·¦ä¾§æ“ä½œæ•°ä¸º[å‡å€¼](https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy)æ—¶è¿”å›å³ä¾§æ“ä½œæ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½¿ç”¨ `||` æ¥ä¸ºæŸäº›å˜é‡è®¾ç½®é»˜è®¤å€¼ï¼Œå¯èƒ½ä¼šé‡åˆ°æ„æ–™ä¹‹å¤–çš„è¡Œä¸ºã€‚æ¯”å¦‚ä¸ºå‡å€¼ï¼ˆä¾‹å¦‚ï¼Œ`''` æˆ– `0`ï¼‰æ—¶ã€‚è§ä¸‹é¢çš„ä¾‹å­ã€‚

- åŸºæœ¬ä½¿ç”¨

```javascript
const nullValue = null;
const emptyText = ""; // ç©ºå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªå‡å€¼ï¼ŒBoolean("") === false
const someNumber = 42;

const valA = nullValue ?? "valA çš„é»˜è®¤å€¼";
const valB = emptyText ?? "valB çš„é»˜è®¤å€¼";
const valC = someNumber ?? 0;

console.log(valA); // "valA çš„é»˜è®¤å€¼"
console.log(valB); // ""ï¼ˆç©ºå­—ç¬¦ä¸²è™½ç„¶æ˜¯å‡å€¼ï¼Œä½†ä¸æ˜¯ null æˆ–è€… undefinedï¼‰
console.log(valC); // 42
```

- ä¸ `||`å¯¹æ¯”

> ç”±äº || æ˜¯ä¸€ä¸ªå¸ƒå°”é€»è¾‘è¿ç®—ç¬¦ï¼Œå·¦ä¾§çš„æ“ä½œæ•°ä¼šè¢«å¼ºåˆ¶è½¬æ¢æˆå¸ƒå°”å€¼ç”¨äºæ±‚å€¼ã€‚ä»»ä½•å‡å€¼ï¼ˆ0ï¼Œ ''ï¼Œ NaNï¼Œ nullï¼Œ undefinedï¼‰éƒ½ä¸ä¼šè¢«è¿”å›ã€‚è¿™å¯¼è‡´å¦‚æœä½ ä½¿ç”¨0ï¼Œ''æˆ–NaNä½œä¸ºæœ‰æ•ˆå€¼ï¼Œå°±ä¼šå‡ºç°ä¸å¯é¢„æ–™çš„åæœã€‚

```javascript
let myText = ''; // An empty string (which is also a falsy value)

let notFalsyText = myText || 'Hello world';
console.log(notFalsyText); // Hello world

let preservingFalsy = myText ?? 'Hi neighborhood';
console.log(preservingFalsy); // '' (as myText is neither undefined nor null)
```

- çŸ­è·¯

> ä¸ OR å’Œ AND é€»è¾‘æ“ä½œç¬¦ç›¸ä¼¼ï¼Œå½“å·¦è¡¨è¾¾å¼ä¸ä¸º `null` æˆ– `undefined` æ—¶ï¼Œä¸ä¼šå¯¹å³è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ã€‚

```javascript
function A() { console.log('å‡½æ•° A è¢«è°ƒç”¨äº†'); return undefined; }
function B() { console.log('å‡½æ•° B è¢«è°ƒç”¨äº†'); return false; }
function C() { console.log('å‡½æ•° C è¢«è°ƒç”¨äº†'); return "foo"; }

console.log( A() ?? C() );
// ä¾æ¬¡æ‰“å° "å‡½æ•° A è¢«è°ƒç”¨äº†"ã€"å‡½æ•° C è¢«è°ƒç”¨äº†"ã€"foo"
// A() è¿”å›äº† undefinedï¼Œæ‰€ä»¥æ“ä½œç¬¦ä¸¤è¾¹çš„è¡¨è¾¾å¼éƒ½è¢«æ‰§è¡Œäº†

console.log( B() ?? C() );
// ä¾æ¬¡æ‰“å° "å‡½æ•° B è¢«è°ƒç”¨äº†"ã€"false"
// B() è¿”å›äº† falseï¼ˆæ—¢ä¸æ˜¯ null ä¹Ÿä¸æ˜¯ undefinedï¼‰
// æ‰€ä»¥å³ä¾§è¡¨è¾¾å¼æ²¡æœ‰è¢«æ‰§è¡Œ
```

- ä¸èƒ½ä¸ `||` å’Œ `&&`å…±ç”¨

```javascript
null || undefined ?? "foo"; // æŠ›å‡º SyntaxError
true || undefined ?? "foo"; // æŠ›å‡º SyntaxError

// ä½†æ˜¯ï¼Œå¦‚æœä½¿ç”¨æ‹¬å·æ¥æ˜¾å¼è¡¨æ˜è¿ç®—ä¼˜å…ˆçº§ï¼Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼š
(null || undefined ) ?? "foo"; // è¿”å› "foo"
```

- ä½¿ç”¨`?.`æ“ä½œç¬¦

```javascript
let customer = {
  name: "Carl",
  details: { age: 82 }
};
let customerCity = customer?.city ?? "æš—ä¹‹åŸ";
console.log(customerCity); // â€œæš—ä¹‹åŸâ€
```

- å…¼å®¹æ€§

![](./images/nullish_coalescing_broswer.png)



### ES10æ–°ç‰¹æ€§ï¼ˆ2019å‘å¸ƒï¼‰

#### [Optional `catch` bindingï¼ˆcatch ç»‘å®šå¯é€‰ï¼‰](https://github.com/tc39/proposal-optional-catch-binding)

> å…è®¸åœ¨ä¸ä½¿ç”¨`catch`ç»‘å®šçš„æƒ…å†µä¸‹çœç•¥ç»‘å®šï¼Œ`catch` çš„å‚æ•°å¯ä»¥å¿½ç•¥

- åŸºæœ¬ä½¿ç”¨

```javascript
// ä»¥å¾€
try {
} catch (error) {
}

// ç°åœ¨æ”¯æŒè¯­æ³•ï¼Œcatch å¯ä»¥ä¸ä½¿ç”¨æŠ›å‡ºçš„ error
try {
  // ...
} catch {
  // ...
}
```

- å…¼å®¹æ€§

![](./images/catch_broswer.png)

#### [JSON supersetï¼ˆjson è¶…é›†ï¼‰](https://github.com/tc39/proposal-json-superset)

> ECMAScriptå£°ç§°JSONæ˜¯çš„å­é›†[`JSON.parse`](https://tc39.github.io/ecma262/#sec-json.parse)ï¼Œä½†ï¼ˆæ®å……åˆ†è®°è½½ï¼‰è¿™æ˜¯ä¸æ­£ç¡®çš„ï¼Œå› ä¸ºJSONå­—ç¬¦ä¸²å¯ä»¥åŒ…å«æœªè½¬ä¹‰çš„U + 2028 LINE SEPARATORå’ŒU + 2029 PARAGRAPH SEPARATORå­—ç¬¦ï¼Œè€ŒECMAScriptå­—ç¬¦ä¸²åˆ™ä¸èƒ½ã€‚
>
> JSONè¯­æ³•ç”±[ECMA-404](http://www.ecma-international.org/publications/standards/Ecma-404.htm)å®šä¹‰ï¼Œå¹¶ç”±[RFC 7159](https://tools.ietf.org/html/rfc7159)æ°¸ä¹…å›ºå®šï¼Œä½†æ˜¯ECMA-262çš„*DoubleStringCharacter*å’Œ*SingleStringCharacter*ç”Ÿäº§å¯ä»¥æ‰©å±•ä¸ºå…è®¸ä¸è½¬ä¹‰çš„U + 2028 LINE SEPARATORå’ŒU + 2029 PARAGRAPH SEPARATORå­—ç¬¦ã€‚
>
> åœ¨ ES2019 ä¹‹å‰ï¼Œå®ƒä¼šäº§ç”Ÿé”™è¯¯`SyntaxError: Invalid or unexpected token`

```javascript
const PS = eval("'\u2029'");
```

- å…¼å®¹æ€§

![](./images/json_broswer.png)

#### [`Symbol.prototype.description`](https://github.com/tc39/proposal-Symbol-description)

> `description` æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œå®ƒä¼šè¿”å› [`Symbol`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol) å¯¹è±¡çš„å¯é€‰æè¿°çš„å­—ç¬¦ä¸²ã€‚
>
>  å¯¹è±¡å¯ä»¥é€šè¿‡ä¸€ä¸ªå¯é€‰çš„æè¿°åˆ›å»ºï¼Œå¯ç”¨äºè°ƒè¯•ï¼Œä½†ä¸èƒ½ç”¨äºè®¿é—® symbol æœ¬èº«ã€‚`Symbol.prototype.description` å±æ€§å¯ä»¥ç”¨äºè¯»å–è¯¥æè¿°ã€‚
>
> ä¸ `Symbol.prototype.toString()` ä¸åŒçš„æ˜¯å®ƒä¸ä¼šåŒ…å« "`Symbol()`" çš„å­—ç¬¦ä¸²ã€‚å…·ä½“è¯·çœ‹å®ä¾‹ã€‚

- åŸºæœ¬ä½¿ç”¨

```javascript
Symbol('desc').toString();   // "Symbol(desc)"
Symbol('desc').description;  // "desc"
Symbol('').description;      // ""
Symbol().description;        // undefined

// well-known symbols
Symbol.iterator.toString();  // "Symbol(Symbol.iterator)"
Symbol.iterator.description; // "Symbol.iterator"

// global symbols
Symbol.for('foo').toString();  // "Symbol(foo)"
Symbol.for('foo').description; // "foo"
```

- å…¼å®¹æ€§

![](./images/symbol_broswer.png)

#### [`Function.prototype.toString` ä¿®æ­£](https://github.com/tc39/Function-prototype-toString-revision)

> è¿”å›ä¸€ä¸ªè¡¨ç¤ºå½“å‰å‡½æ•°æºä»£ç çš„å­—ç¬¦ä¸²ï¼Œä¿®æ­£äº†è¿”å›å‡½æ•°ä¸­åŒ…å«æ³¨é‡Šï¼ˆç®­å¤´å‡½æ•°é™¤å¤–ï¼‰

```javascript
function sum /* comments... */(a, b) {
  return a + b;
}
console.log(sum.toString());
// es2019 ä¹‹å‰
// function sum (a, b) {
//     return a + b;
// }

// eS2019 ä¹‹å
// function sum /* comments... */(a, b) {
//     return a + b;
// }

// native code å¹¶ä¸å¼€æ”¾
console.log(Math.abs.toString());
// function abs() { [native code] }

// ç®­å¤´å‡½æ•°ä¸ä¼šåŒ…å«æ³¨é‡Š
const arrowFunction /* comment */ = /* comment */ () => {};
console.log(arrowFunction.toString()); // () => {}
```

#### [`Object.fromEntries`](https://github.com/tc39/proposal-object-from-entries)

> `Object.fromEntries(iterable)`æ–¹æ³•æ¥æ”¶ä¸€ä¸ªé”®å€¼å¯¹çš„åˆ—è¡¨å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸¦æœ‰è¿™äº›é”®å€¼å¯¹çš„**æ–°å¯¹è±¡**ã€‚
>
> å‚æ•°ï¼š`iterable`ç±»ä¼¼ [`Array`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Array) ã€ [`Map`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Map) æˆ–è€…å…¶å®ƒå®ç°äº†[å¯è¿­ä»£åè®®](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol)çš„å¯è¿­ä»£å¯¹è±¡ã€‚
>
> è¿”å›ï¼šä¸€ä¸ªç”±è¯¥è¿­ä»£å¯¹è±¡æ¡ç›®æä¾›å¯¹åº”å±æ€§çš„æ–°å¯¹è±¡ã€‚

- åŸºæœ¬ä½¿ç”¨

```javascript
// Map to Object
const map = new Map([ ['foo', 'bar'], ['baz', 42] ]);
const obj = Object.fromEntries(map);
console.log(obj); // { foo: "bar", baz: 42 }

// Array to Object
const arr = [ ['0', 'a'], ['1', 'b'], ['2', 'c'] ];
const obj = Object.fromEntries(arr);
console.log(obj); // { 0: "a", 1: "b", 2: "c" }
```

- `Object.fromEntries` æ˜¯ä¸ [`Object.entries()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/entries) ç›¸åçš„æ–¹æ³•

```javascript
const object1 = { a: 1, b: 2, c: 3 };

const object2 = Object.fromEntries(
  Object.entries(object1)
  .map(([ key, val ]) => [ key, val * 2 ])
);

console.log(object2);
// { a: 2, b: 4, c: 6 }
```

- å…¼å®¹æ€§

![](./images/object_fromEntries_broswer.png)

#### [Well-formed `JSON.stringify`](https://github.com/tc39/proposal-well-formed-stringify)

> é˜²æ­¢`JSON.stringify`è¿”å›æ ¼å¼é”™è¯¯çš„Unicodeå­—ç¬¦ä¸²ï¼ŒES2019 ä¸æ˜¯å°†æœªé…å¯¹çš„ä»£ç†ä»£ç ç‚¹ä½œä¸ºå•ä¸ª UTF-16 ä»£ç å•å…ƒè¿”å›ï¼Œè€Œæ˜¯ç”¨ JSON è½¬ä¹‰åºåˆ—è¡¨ç¤ºå®ƒä»¬ã€‚

```javascript
// ä¹‹å‰
console.log(JSON.stringify("\uD800")); // "ï¿½"

// es2019ä¹‹å
console.log(JSON.stringify("\uD800")); // "\ud800"
```

#### [`String.prototype.{trimStart,trimEnd}`](https://github.com/tc39/proposal-string-left-right-trim)

> **`trimStart()`** æ–¹æ³•ä»å­—ç¬¦ä¸²çš„å¼€å¤´åˆ é™¤ç©ºæ ¼ã€‚`trimLeft()` æ˜¯æ­¤æ–¹æ³•çš„åˆ«åã€‚æ–¹æ³•ç§»é™¤åŸå­—ç¬¦ä¸²å·¦ç«¯çš„è¿ç»­ç©ºç™½ç¬¦å¹¶è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå¹¶ä¸ä¼šç›´æ¥ä¿®æ”¹åŸå­—ç¬¦ä¸²æœ¬èº«ã€‚
>
> `trimEnd() `æ–¹æ³•ä»ä¸€ä¸ªå­—ç¬¦ä¸²çš„æœ«ç«¯ç§»é™¤ç©ºç™½å­—ç¬¦ã€‚`trimRight()` æ˜¯è¿™ä¸ªæ–¹æ³•çš„åˆ«åã€‚æ–¹æ³•ç§»é™¤åŸå­—ç¬¦ä¸²å³ç«¯çš„è¿ç»­ç©ºç™½ç¬¦å¹¶è¿”å›ï¼Œå¹¶ä¸ä¼šç›´æ¥ä¿®æ”¹åŸå­—ç¬¦ä¸²æœ¬èº«ã€‚

- åŸºæœ¬ä½¿ç”¨

```javascript
var str = "   foo  ";

console.log(str.length); // 8

str = str.trimStart()    // ç­‰åŒäº str = str.trimLeft();
console.log(str.length); // 5
console.log(str);        // "foo  "

var str = "   foo  ";

alert(str.length); // 8

str = str.trimRight();  // æˆ–å†™æˆstr = str.trimEnd();
console.log(str.length); // 6
console.log(str);       // '   foo'
```

- å…¼å®¹æ€§

![](./images/trimStart_broswer.png)

![](./images/trimEnd_broswer.png)

#### [`Array.prototype.{flat,flatMap}`](https://github.com/tc39/proposal-flatMap)

#####  `flat`

> `flat`: æ–¹æ³•ä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦é€’å½’éå†æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸éå†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›ã€‚
>
> è¯­æ³•ï¼š`var newArray = arr.flat([depth]`
>
> å…¥å‚`depth`(å¯é€‰)ï¼šæŒ‡å®šæå–åµŒå¥—æ•°ç»„çš„ç»“æ„æ·±åº¦ï¼Œé»˜è®¤å€¼ä¸º1ã€‚
>
> è¿”å›ï¼šä¸€ä¸ªåŒ…å«å°†æ•°ç»„ä¸å­æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ–°æ•°ç»„ã€‚

- `flat`åŸºæœ¬ä½¿ç”¨

```javascript
var arr1 = [1, 2, [3, 4]];
arr1.flat(); 
// [1, 2, 3, 4]

var arr2 = [1, 2, [3, 4, [5, 6]]];
arr2.flat();
// [1, 2, 3, 4, [5, 6]]

var arr3 = [1, 2, [3, 4, [5, 6]]];
arr3.flat(2);
// [1, 2, 3, 4, 5, 6]

//ä½¿ç”¨ Infinityï¼Œå¯å±•å¼€ä»»æ„æ·±åº¦çš„åµŒå¥—æ•°ç»„
var arr4 = [1, 2, [3, 4, [5, 6, [7, 8, [9, 10]]]]];
arr4.flat(Infinity);
// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

// ç§»é™¤æ•°ç»„ä¸­çš„ç©ºé¡¹
var arr5 = [1, 2, , 4, 5];
arr5.flat(); // [1, 2, 4, 5]
```

##### `flatMap`

> æ–¹æ³•é¦–å…ˆä½¿ç”¨æ˜ å°„å‡½æ•°æ˜ å°„æ¯ä¸ªå…ƒç´ ï¼Œç„¶åå°†ç»“æœå‹ç¼©æˆä¸€ä¸ªæ–°æ•°ç»„ã€‚å®ƒä¸ [map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map) è¿ç€æ·±åº¦å€¼ä¸º1çš„ [flat](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat) å‡ ä¹ç›¸åŒï¼Œä½† `flatMap` é€šå¸¸åœ¨åˆå¹¶æˆä¸€ç§æ–¹æ³•çš„æ•ˆç‡ç¨å¾®é«˜ä¸€äº›ã€‚

- è¯­æ³•

```javascript
/**
	å‚æ•°ï¼š
	  callback
			å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ä¸­çš„å…ƒç´ çš„å‡½æ•°ï¼Œå¯ä»¥ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼š
			currentValue
				å½“å‰æ­£åœ¨æ•°ç»„ä¸­å¤„ç†çš„å…ƒç´ 
			indexå¯é€‰
				å¯é€‰çš„ã€‚æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚
			arrayå¯é€‰
				å¯é€‰çš„ã€‚è¢«è°ƒç”¨çš„ map æ•°ç»„
		thisArgå¯é€‰
			å¯é€‰çš„ã€‚æ‰§è¡Œ callback å‡½æ•°æ—¶ ä½¿ç”¨çš„this å€¼ã€‚
			
	è¿”å›ï¼š ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å›è°ƒå‡½æ•°çš„ç»“æœï¼Œå¹¶ä¸”ç»“æ„æ·±åº¦ depth å€¼ä¸º1ã€‚		
 */
var new_array = arr.flatMap(function callback(currentValue[, index[, array]]) {
    // return element for new_array
}[, thisArg])
```

- åŸºæœ¬ä½¿ç”¨

```javascript
var arr1 = [1, 2, 3, 4];

arr1.map(x => [x * 2]); 
// [[2], [4], [6], [8]]

arr1.flatMap(x => [x * 2]);
// [2, 4, 6, 8]

// åªæœ‰ä¸€å±‚ flattened
arr1.flatMap(x => [[x * 2]]);
// [[2], [4], [6], [8]]
```

##### å…¼å®¹æ€§

![](./images/flat_broswer.png)

![](./images/flatMap_broswer.png)

### ES9æ–°ç‰¹æ€§ï¼ˆ2018å‘å¸ƒï¼‰

#### [éæ³•è½¬ä¹‰åºåˆ—çš„ä¿®è®¢ï¼ˆLifting template literal restrictionï¼‰](https://github.com/tc39/proposal-template-literal-revision)

> #### ES2018å…³äºéæ³•è½¬ä¹‰åºåˆ—çš„ä¿®è®¢:
>
> å¸¦æ ‡ç­¾çš„æ¨¡ç‰ˆå­—ç¬¦ä¸²åº”è¯¥å…è®¸åµŒå¥—æ”¯æŒå¸¸è§è½¬ä¹‰åºåˆ—çš„è¯­è¨€ï¼ˆä¾‹å¦‚[DSLs](https://en.wikipedia.org/wiki/Domain-specific_language)ã€[LaTeX](https://en.wikipedia.org/wiki/LaTeX)ï¼‰ã€‚ECMAScriptæè®®[æ¨¡ç‰ˆå­—é¢é‡ä¿®è®¢](https://tc39.github.io/proposal-template-literal-revision/)(ç¬¬4é˜¶æ®µï¼Œå°†è¦é›†æˆåˆ°ECMAScript 2018æ ‡å‡†) ç§»é™¤å¯¹ECMAScriptåœ¨å¸¦æ ‡ç­¾çš„æ¨¡ç‰ˆå­—ç¬¦ä¸²ä¸­è½¬ä¹‰åºåˆ—çš„è¯­æ³•é™åˆ¶ã€‚

```javascript
function latex(str) { 
 return { "cooked": str[0], "raw": str.raw[0] }
} 

latex`\unicode`

// è¾ƒè€ç‰ˆæœ¬ es2016æˆ–æ›´æ—©
// SyntaxError: malformed Unicode character escape sequence

// es2018
// { cooked: undefined, raw: "\\unicode" }
```

- å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸€è½¬ä¹‰åºåˆ—é™åˆ¶åªå¯¹å¸¦æ ‡ç­¾çš„æ¨¡æ¿å­—é¢é‡ç§»é™¤ï¼Œè€Œä¸åŒ…æ‹¬ä¸å¸¦æ ‡ç­¾çš„æ¨¡æ¿å­—é¢é‡ï¼š

```javascript
let bad = `bad escape sequence: \unicode`; // æŠ¥é”™ Uncaught SyntaxError: Invalid Unicode escape sequence
```

#### [æ­£åˆ™è¡¨è¾¾å¼`\s` or (`dotAll`) ](https://github.com/tc39/proposal-regexp-dotall-flag)

> æ­£åˆ™è¡¨è¾¾å¼ä¸­ç‚¹`.`åŒ¹é…é™¤å›è½¦å¤–çš„ä»»ä½•å•å­—ç¬¦ï¼Œæ ‡è®°`s`æ”¹å˜è¿™ç§è¡Œä¸ºï¼Œå…è®¸è¡Œç»ˆæ­¢ç¬¦çš„å‡ºç°.

```javascript
/foo.bar/.test('foo\nbar');
// â†’ false

/foo.bar/s.test('foo\nbar');
// â†’ true
```

- `dotAll`ï¼š**`dotAll`** å±æ€§è¡¨æ˜æ˜¯å¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä¸€èµ·ä½¿ç”¨"`s`"ä¿®é¥°ç¬¦ï¼ˆå¼•å…¥/sä¿®é¥°ç¬¦ï¼Œä½¿å¾—.å¯ä»¥åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼‰ã€‚`dotAll` æ˜¯ä¸€ä¸ªåªè¯»çš„å±æ€§ï¼Œå±äºå•ä¸ªæ­£åˆ™è¡¨è¾¾å¼å®ä¾‹ã€‚

```javascript
const re = /foo.bar/s; // Or, `const re = new RegExp('foo.bar', 's');`.
re.test('foo\nbar');
// â†’ true
re.dotAll
// â†’ true
re.flags
// â†’ 's'
```

- å…¼å®¹æ€§

![](./images/dotAll_broswer.png)

#### [æ­£åˆ™è¡¨è¾¾å¼å‘½åæ•è·ç»„ï¼ˆRegExp named capture groupsï¼‰](https://github.com/tc39/proposal-regexp-named-groups)

> ES2018å…è®¸å‘½åæ•è·ç»„ä½¿ç”¨ç¬¦å·`?<name>`ï¼Œåœ¨æ‰“å¼€æ•è·æ‹¬å·`(`åç«‹å³å‘½åï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š
>
> ä»»ä½•åŒ¹é…å¤±è´¥çš„å‘½åç»„éƒ½å°†è¿”å›`undefined`ã€‚

- `exec`

```javascript
let re = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/u;
let result = re.exec('2015-01-02');
// result.groups.year === '2015';
// result.groups.month === '01';
// result.groups.day === '02';

// result[0] === '2015-01-02';
// result[1] === '2015';
// result[2] === '01';
// result[3] === '02';
```

- `replace`

```javascript
let re = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/u;
let result = '2015-01-02'.replace(re, '$<day>/$<month>/$<year>');
// result === '02/01/2015'
```

#### [Rest/Spread Properties](https://github.com/tc39/proposal-object-rest-spread)

> ES2015å¼•å…¥äº†[Restå‚æ•°](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Rest_parameters)å’Œ[æ‰©å±•è¿ç®—ç¬¦](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Spread_syntax)ã€‚ä¸‰ä¸ªç‚¹ï¼ˆ...ï¼‰ä»…ç”¨äºæ•°ç»„ã€‚Restå‚æ•°è¯­æ³•å…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªä¸å®šæ•°é‡çš„å‚æ•°è¡¨ç¤ºä¸ºä¸€ä¸ªæ•°ç»„ã€‚

```javascript
// es2015 
restFunc(1, 2, 3, 4, 5);

function restFunc(arg1, arg2, ...arg3) {
  // arg1 = 1
  // arg2 = 2
  // arg3 = [3, 4, 5]
}

// å±•å¼€å±æ€§
const arr = [1, 4, -1, 5, 9];
console.log(Math.max(...values)); // 9
```

> ES2018ä¸ºå¯¹è±¡è§£æ„æä¾›äº†å’Œæ•°ç»„ä¸€æ ·çš„Restå‚æ•°å’Œ(...)å±•å¼€æ“ä½œç¬¦

- rest å±æ€§

```javascript
let { x, y, ...z } = { x: 1, y: 2, a: 3, b: 4 };
x; // 1
y; // 2
z; // { a: 3, b: 4 }
```

- å±•å¼€ å±æ€§

```javascript
let n = { x, y, ...z };
n; // { x: 1, y: 2, a: 3, b: 4 }
```

#### [RegExpåå‘æ–­è¨€ï¼ˆRegExp Lookbehind Assertionsï¼‰](https://github.com/tc39/proposal-regexp-lookbehind)

- æ­£å‘æ–­è¨€ï¼ˆ`?<=...`ï¼‰ï¼Œå®ƒä»¬ç¡®ä¿åŒ…å«åœ¨å…¶ä¸­çš„æ¨¡å¼ä½äºå£°æ˜ä¹‹åçš„æ¨¡å¼ä¹‹å‰

```javascript
// åŒ¹é…é‡‘é¢
/(?<=\$)\d+(\.\d*)?/.exec('$10.53');
// [10.53 ...]
/(?<=\$)\d+(\.\d*)?/.exec('ï¿¥10.53');
// null
```

- åå‘æ–­è¨€ï¼ˆ`?<!...`ï¼‰ï¼Œå¦ä¸€æ–¹é¢ï¼Œè¯·ç¡®ä¿å…¶ä¸­çš„æ¨¡å¼ä¸åœ¨è¯¥æ–­è¨€ä¹‹åçš„æ¨¡å¼ä¹‹å‰

```javascript
/(?<!\$)\d+(?:\.\d*)/.exec('$10.53')
// [0.53 ...]

/(?<!\$)\d+(?:\.\d*)/.exec('ï¿¥10.53')
// [10.53 ...]
```

#### [Unicodeå±æ€§åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­è½¬ä¹‰ï¼ˆRegExp Unicode Property Escapesï¼‰](https://github.com/tc39/proposal-regexp-unicode-property-escapes)

> es2018ä¹‹å‰ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ¬åœ°è®¿é—® Unicode å­—ç¬¦å±æ€§æ˜¯ä¸è¢«å…è®¸çš„ã€‚
>
> ES2018æ·»åŠ äº† Unicode å±æ€§è½¬ä¹‰â€”â€”å½¢å¼ä¸º`\p{...}`å’Œ`\P{...}`ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ ‡è®° `u` (unicode) è®¾ç½®ï¼Œåœ¨`\p`å—å„¿å†…ï¼Œå¯ä»¥ä»¥é”®å€¼å¯¹çš„æ–¹å¼è®¾ç½®éœ€è¦åŒ¹é…çš„å±æ€§è€Œéå…·ä½“å†…å®¹ã€‚

```javascript
const regex = /^\p{Decimal_Number}+$/u;
regex.test('ğŸğŸğŸ‘ğŸœğŸğŸğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸºğŸ»ğŸ¼');
// â†’ true

const regex = /^\P{Decimal_Number}+$/u;
regex.test('Ô»Õ´ Ö…Õ¤Õ¡Õ©Õ«Õ¼Õ¨ Õ¬Õ« Õ§ Ö…Õ±Õ¡Õ±Õ¯Õ¥Ö€Õ¸Õ¾');
// â†’ true

const regex = /^\p{Number}+$/u;
regex.test('Â²Â³Â¹Â¼Â½Â¾ğŸğŸğŸ‘ğŸœğŸğŸğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸºğŸ»ğŸ¼ã‰›ã‰œã‰â… â…¡â…¢â…£â…¤â…¥â…¦â…§â…¨â…©â…ªâ…«â…¬â…­â…®â…¯â…°â…±â…²â…³â…´â…µâ…¶â…·â…¸â…¹â…ºâ…»â…¼â…½â…¾â…¿');
// â†’ true
```

#### [`Promise.prototype.finally`](https://github.com/tc39/proposal-promise-finally)

> `finally()` æ–¹æ³•è¿”å›ä¸€ä¸ª[`Promise`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise)ã€‚åœ¨promiseç»“æŸæ—¶ï¼Œæ— è®ºç»“æœæ˜¯fulfilledæˆ–è€…æ˜¯rejectedï¼Œéƒ½ä¼šæ‰§è¡ŒæŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ºåœ¨`Promise`æ˜¯å¦æˆåŠŸå®Œæˆåéƒ½éœ€è¦æ‰§è¡Œçš„ä»£ç æä¾›äº†ä¸€ç§æ–¹å¼ã€‚
>
> è¿™é¿å…äº†åŒæ ·çš„è¯­å¥éœ€è¦åœ¨[`then()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/then)å’Œ[`catch()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch)ä¸­å„å†™ä¸€æ¬¡çš„æƒ…å†µã€‚
>
> **æ³¨æ„:** åœ¨`finally`å›è°ƒä¸­ `throw`ï¼ˆæˆ–è¿”å›è¢«æ‹’ç»çš„promiseï¼‰å°†ä»¥ `throw()` æŒ‡å®šçš„åŸå› æ‹’ç»æ–°çš„promise.

- `finally()` è™½ç„¶ä¸ `.then(onFinally, onFinally)` ç±»ä¼¼ï¼Œå®ƒä»¬ä¸åŒçš„æ˜¯:
  - è°ƒç”¨å†…è”å‡½æ•°æ—¶ï¼Œä¸éœ€è¦å¤šæ¬¡å£°æ˜è¯¥å‡½æ•°æˆ–ä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªå˜é‡ä¿å­˜å®ƒã€‚
  - ç”±äºæ— æ³•çŸ¥é“`promise`çš„æœ€ç»ˆçŠ¶æ€ï¼Œæ‰€ä»¥`finally`çš„å›è°ƒå‡½æ•°ä¸­ä¸æ¥æ”¶ä»»ä½•å‚æ•°ï¼Œå®ƒä»…ç”¨äºæ— è®ºæœ€ç»ˆç»“æœå¦‚ä½•éƒ½è¦æ‰§è¡Œçš„æƒ…å†µã€‚
  - ä¸`Promise.resolve(2).then(() => {}, () => {})` ï¼ˆresolvedçš„ç»“æœä¸º`undefined`ï¼‰ä¸åŒï¼Œ`Promise.resolve(2).finally(() => {})` resolvedçš„ç»“æœä¸º `2`ã€‚
  - åŒæ ·ï¼Œ`Promise.reject(3).then(() => {}, () => {})` (resolved çš„ç»“æœä¸º`undefined`), `Promise.reject(3).finally(() => {})` rejected çš„ç»“æœä¸º `3`ã€‚
- åŸºæœ¬ä½¿ç”¨

```javascript
let isLoading = true;

fetch(myRequest).then(function(response) {
    var contentType = response.headers.get("content-type");
    if(contentType && contentType.includes("application/json")) {
      return response.json();
    }
    throw new TypeError("Oops, we haven't got JSON!");
  })
  .then(function(json) { /* process your JSON further */ })
  .catch(function(error) { console.log(error); })
  .finally(function() { isLoading = false; });
```

- å…¼å®¹æ€§

![](./images/finally_broswer.png)

#### [å¼‚æ­¥è¿­ä»£å™¨ï¼ˆAsynchronous Iterationï¼‰](https://github.com/tc39/proposal-async-iteration)

> es2018å¼•å…¥å¼‚æ­¥è¿­ä»£å™¨`for-await-of`ï¼Œä½¿å¾—`await`å¯ä»¥å’Œ`for...of`å¾ªç¯ä¸€èµ·ä½¿ç”¨ï¼Œä»¥ä¸²è¡Œçš„æ–¹å¼è¿è¡Œå¼‚æ­¥æ“ä½œã€‚
>
> **`for await...of` è¯­å¥**ä¼šåœ¨å¼‚æ­¥æˆ–è€…åŒæ­¥å¯è¿­ä»£å¯¹è±¡ä¸Šåˆ›å»ºä¸€ä¸ªè¿­ä»£å¾ªç¯ï¼ŒåŒ…æ‹¬ [`String`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/String)ï¼Œ[`Array`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Array)ï¼Œ`Array`-like å¯¹è±¡ï¼ˆæ¯”å¦‚[`arguments`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/arguments) æˆ–è€…[`NodeList`](https://developer.mozilla.org/zh-CN/docs/Web/API/NodeList))ï¼Œ[`TypedArray`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypedArray)ï¼Œ[`Map`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Map)ï¼Œ [`Set`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Set)å’Œè‡ªå®šä¹‰çš„å¼‚æ­¥æˆ–è€…åŒæ­¥å¯è¿­ä»£å¯¹è±¡ã€‚å…¶ä¼šè°ƒç”¨è‡ªå®šä¹‰è¿­ä»£é’©å­ï¼Œå¹¶ä¸ºæ¯ä¸ªä¸åŒå±æ€§çš„å€¼æ‰§è¡Œè¯­å¥**ã€‚**åƒ[`await`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/await)è¡¨è¾¾å¼ä¸€æ ·ï¼Œè¿™ä¸ªè¯­å¥åªèƒ½åœ¨ [async function](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function)å†…ä½¿ç”¨ã€‚

- es2018ä¹‹å‰ï¼Œé”™è¯¯åœºæ™¯æ¡ˆä¾‹

> åœ¨`async/await`çš„æŸäº›æ—¶åˆ»ï¼Œä½ å¯èƒ½å°è¯•åœ¨åŒæ­¥å¾ªç¯ä¸­è°ƒç”¨å¼‚æ­¥å‡½æ•°ã€‚

```javascript
// ä»¥ä¸‹æ–¹æ³•å¾ªç¯æœ¬èº«ä¾æ—§åŒæ­¥ï¼Œå¹¶ä¸”ä¼šåœ¨å†…éƒ¨å¼‚æ­¥å‡½æ•°å®Œæˆä¹‹å‰å…¨éƒ¨è°ƒç”¨å®Œæˆ
async function process(array) {
  for (let i of array) {
    await doSomething(i);
  }
}
async function process(array) {
  array.forEach(async i => {
    await doSomething(i);
  });
}
```

- åŸºæœ¬ä½¿ç”¨

```javascript
async function process(array) {
  for await (let i of array) {
    doSomething(i);
  }
}
```

- è¿­ä»£å¼‚æ­¥å¯è¿­ä»£å¯¹è±¡

```javascript
var asyncIterable = {
  [Symbol.asyncIterator]() {
    return {
      i: 0,
      next() {
        if (this.i < 3) {
          return Promise.resolve({ value: this.i++, done: false });
        }

        return Promise.resolve({ done: true });
      }
    };
  }
};

(async function() {
   for await (num of asyncIterable) {
     console.log(num);
   }
})();

// 0
// 1
// 2
```

- è¿­ä»£å¼‚æ­¥ç”Ÿæˆå™¨

```js
async function* asyncGenerator() {
  var i = 0;
  while (i < 3) {
    yield i++;
  }
}

(async function() {
  for await (num of asyncGenerator()) {
    console.log(num);
  }
})();
// 0
// 1
// 2
```

- å…¼å®¹æ€§

![](./images/for_await_of_broswer.png)

### ES8æ–°ç‰¹æ€§ï¼ˆ2017å‘å¸ƒï¼‰

#### [`Object.values`/`Object.entries`](https://github.com/tc39/proposal-object-values-entries)

- `Object.values`

> `Object.values()`æ–¹æ³•è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾å±æ€§å€¼çš„æ•°ç»„ï¼Œå€¼çš„é¡ºåºä¸ä½¿ç”¨[`for...in`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in)å¾ªç¯çš„é¡ºåºç›¸åŒ ( åŒºåˆ«åœ¨äº for-in å¾ªç¯æšä¸¾åŸå‹é“¾ä¸­çš„å±æ€§ )ã€‚

- `Object.entries`

> `Object.entries()æ–¹æ³•è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ï¼Œå…¶æ’åˆ—ä¸ä½¿ç”¨ [`for...in`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in) å¾ªç¯éå†è¯¥å¯¹è±¡æ—¶è¿”å›çš„é¡ºåºä¸€è‡´ï¼ˆåŒºåˆ«åœ¨äº for-in å¾ªç¯è¿˜ä¼šæšä¸¾åŸå‹é“¾ä¸­çš„å±æ€§ï¼‰ã€‚

- åŸºæœ¬ä½¿ç”¨

```javascript
var obj = { foo: 'bar', baz: 42 };
console.log(Object.values(obj)); // ['bar', 42]
console.log(Object.entries(obj)); // [ ['foo', 'bar'], ['baz', 42] ]
```

- å…¼å®¹æ€§

![](./images/entries_broswer.png)![](./images/values_broswer.png)

#### [String padding](https://github.com/tc39/proposal-string-pad-start-end)

- `String.prototype.padStart`

> **`padStart()`** æ–¹æ³•ç”¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²å¡«å……å½“å‰å­—ç¬¦ä¸²(å¦‚æœéœ€è¦çš„è¯ï¼Œä¼šé‡å¤å¤šæ¬¡)ï¼Œä»¥ä¾¿äº§ç”Ÿçš„å­—ç¬¦ä¸²è¾¾åˆ°ç»™å®šçš„é•¿åº¦ã€‚ä»å½“å‰å­—ç¬¦ä¸²çš„å·¦ä¾§å¼€å§‹å¡«å……ã€‚

- `String.prototype.padEnd`

> **`padEnd()`** æ–¹æ³•ä¼šç”¨ä¸€ä¸ªå­—ç¬¦ä¸²å¡«å……å½“å‰å­—ç¬¦ä¸²ï¼ˆå¦‚æœéœ€è¦çš„è¯åˆ™é‡å¤å¡«å……ï¼‰ï¼Œè¿”å›å¡«å……åè¾¾åˆ°æŒ‡å®šé•¿åº¦çš„å­—ç¬¦ä¸²ã€‚ä»å½“å‰å­—ç¬¦ä¸²çš„æœ«å°¾ï¼ˆå³ä¾§ï¼‰å¼€å§‹å¡«å……ã€‚

- è¯­æ³•

```javascript
/** 
	* å‚æ•°
	* 
	* targetLengthï¼šå½“å‰å­—ç¬¦ä¸²éœ€è¦å¡«å……åˆ°çš„ç›®æ ‡é•¿åº¦ã€‚å¦‚æœè¿™ä¸ªæ•°å€¼å°äºå½“å‰å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™è¿”å›å½“å‰å­—ç¬¦ä¸²æœ¬èº«ã€‚
 	* padString(å¯é€‰)ï¼šå¡«å……å­—ç¬¦ä¸²ã€‚å¦‚æœå­—ç¬¦ä¸²å¤ªé•¿ï¼Œä½¿å¡«å……åçš„å­—ç¬¦ä¸²é•¿åº¦è¶…è¿‡äº†ç›®æ ‡é•¿åº¦ï¼Œåˆ™åªä¿ç•™æœ€å·¦ä¾§çš„éƒ¨åˆ†ï¼Œå…¶ä»–éƒ¨åˆ†ä¼šè¢«æˆªæ–­ã€‚æ­¤å‚æ•°çš„ç¼ºçœå€¼ä¸º " "ï¼ˆU+0020ï¼‰ã€‚
 	*/
str.padStart(targetLength [, padString])
str.padEnd(targetLength [, padString])
```

- åŸºæœ¬ä½¿ç”¨

```javascript
'abc'.padStart(10);         // "       abc"
'abc'.padStart(10, "foo");  // "foofoofabc"
'abc'.padStart(6,"123465"); // "123abc"
'abc'.padStart(8, "0");     // "00000abc"
'abc'.padStart(1);          // "abc"

'abc'.padEnd(10);          // "abc       "
'abc'.padEnd(10, "foo");   // "abcfoofoof"
'abc'.padEnd(6, "123456"); // "abc123"
'abc'.padEnd(1);           // "abc"
```

- å…¼å®¹æ€§

![](./images/padStart_broswer.png)

![](./images/padEnd_broswer.png)

#### [`Object.getOwnPropertyDescriptors`](https://github.com/tc39/proposal-object-getownpropertydescriptors)

> `Object.getOwnPropertyDescriptors()` æ–¹æ³•ç”¨æ¥è·å–ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰è‡ªèº«å±æ€§çš„æè¿°ç¬¦ã€‚
>
> å…¥å‚ï¼šä»»æ„å¯¹è±¡
>
> è¿”å›ï¼šæ‰€æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰è‡ªèº«å±æ€§çš„æè¿°ç¬¦ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•è‡ªèº«å±æ€§ï¼Œåˆ™è¿”å›ç©ºå¯¹è±¡ã€‚

- åŸºæœ¬ä½¿ç”¨

```javascript
// Object.assign() æ–¹æ³•åªèƒ½æ‹·è´æºå¯¹è±¡çš„å¯æšä¸¾çš„è‡ªèº«å±æ€§ï¼ŒåŒæ—¶æ‹·è´æ—¶æ— æ³•æ‹·è´å±æ€§çš„ç‰¹æ€§ä»¬ï¼Œè€Œä¸”è®¿é—®å™¨å±æ€§ä¼šè¢«è½¬æ¢æˆæ•°æ®å±æ€§ï¼Œä¹Ÿæ— æ³•æ‹·è´æºå¯¹è±¡çš„åŸå‹ï¼Œè¯¥æ–¹æ³•é…åˆ Object.create() æ–¹æ³•å¯ä»¥å®ç°ä¸Šé¢è¯´çš„è¿™äº›ã€‚
Object.create(
  Object.getPrototypeOf(obj), 
  Object.getOwnPropertyDescriptors(obj) 
);
```

- å…¼å®¹æ€§

![](./images/getOwnPropertyDescriptors_broswer.png)

#### [å‡½æ•°/å‚æ•°åˆ—è¡¨ä¸­å…è®¸é€—å·ç»“å°¾ï¼ˆTrailing commas in function parameter lists and callsï¼‰](https://github.com/tc39/proposal-trailing-function-commas)

> åœ¨å¯¹ç”±ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿç®¡ç†çš„ä»£ç ï¼ˆgitï¼Œsubversionï¼Œmercurialç­‰ï¼‰è¿›è¡Œæ­¤æ›´æ”¹çš„è¿‡ç¨‹ä¸­ï¼Œç¬¬3è¡Œå’Œç¬¬9è¡Œçš„éå¸¸è§„/æ³¨é‡Šä»£ç å†å²è®°å½•ä¿¡æ¯å°†æ›´æ–°ä¸ºæŒ‡å‘æ·»åŠ é€—å·çš„äººï¼ˆè€Œæ˜¯è€Œä¸æ˜¯æœ€åˆæ·»åŠ å‚æ•°çš„äººï¼‰ã€‚

```javascript
1: function clownPuppiesEverywhere(
 2:   param1,
 3:   param2, // updated to add a comma
 4:   param3  // updated to add new parameter
 5: ) { /* ... */ }
 6: 
 7: clownPuppiesEverywhere(
 8:   'foo',
 9:   'bar', // updated to add a comma
10:   'baz'  // updated to add new parameter
11: );
```

> ä¸ºäº†å¸®åŠ©ç¼“è§£æ­¤é—®é¢˜ï¼ŒæŸäº›å…¶ä»–è¯­è¨€ï¼ˆPythonï¼ŒDï¼ŒHackç­‰â€¦â€¦å¯èƒ½è¿˜æœ‰å…¶ä»–â€¦â€¦ï¼‰æ·»åŠ äº†è¯­æ³•æ”¯æŒï¼Œä»¥å…è®¸åœ¨è¿™äº›å‚æ•°åˆ—è¡¨ä¸­ä½¿ç”¨é€—å·ç»“å°¾ã€‚è¿™ä½¿ä»£ç æä¾›è€…å¯ä»¥å§‹ç»ˆåœ¨è¿™äº›æ¯è¡Œå‚æ•°åˆ—è¡¨ä¹‹ä¸€ä¸­ä»¥å°¾éšé€—å·ç»“æŸå‚æ•°æ·»åŠ ï¼Œè€Œä¸å¿…æ‹…å¿ƒä»£ç å½’å› é—®é¢˜

```javascript
 1: function clownPuppiesEverywhere(
 2:   param1,
 3:   param2, // Next parameter that's added only has to add a new line, not modify this line
 5: ) { /* ... */ }
 6: 
 7: clownPuppiesEverywhere(
 8:   'foo',
 9:   'bar', // Next parameter that's added only has to add a new line, not modify this line
11: );
```

> æ³¨æ„ï¼Œè¯¥å»ºè®®ä»…ä¸è¯­æ³•æœ‰å…³ï¼Œå¹¶ä¸”ä¸å¯¹è¯­ä¹‰è¿›è¡Œä»»ä½•æ›´æ”¹ï¼Œå› æ­¤å°¾éšé€—å·çš„å­˜åœ¨å¯¹è¯¸å¦‚ä¹‹ç±»çš„ä¸œè¥¿æ²¡æœ‰å½±å“`<<function>>.length`ã€‚

#### [Async functions](https://github.com/tc39/ecmascript-asyncawait)

> asyncå‡½æ•°æ˜¯ä½¿ç”¨`async`å…³é”®å­—å£°æ˜çš„å‡½æ•°ã€‚ asyncå‡½æ•°æ˜¯[`AsyncFunction`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/AsyncFunction)æ„é€ å‡½æ•°çš„å®ä¾‹ï¼Œ å¹¶ä¸”å…¶ä¸­å…è®¸ä½¿ç”¨`await`å…³é”®å­—ã€‚`async`å’Œ`await`å…³é”®å­—è®©æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ç§æ›´ç®€æ´çš„æ–¹å¼å†™å‡ºåŸºäº[`Promise`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise)çš„å¼‚æ­¥è¡Œä¸ºï¼Œè€Œæ— éœ€åˆ»æ„åœ°é“¾å¼è°ƒç”¨`promise`ã€‚
>
> asyncå‡½æ•°å¯èƒ½åŒ…å«0ä¸ªæˆ–è€…å¤šä¸ª[`await`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/await)è¡¨è¾¾å¼ã€‚awaitè¡¨è¾¾å¼ä¼šæš‚åœæ•´ä¸ªasyncå‡½æ•°çš„æ‰§è¡Œè¿›ç¨‹å¹¶å‡ºè®©å…¶æ§åˆ¶æƒï¼Œåªæœ‰å½“å…¶ç­‰å¾…çš„åŸºäºpromiseçš„å¼‚æ­¥æ“ä½œè¢«å…‘ç°æˆ–è¢«æ‹’ç»ä¹‹åæ‰ä¼šæ¢å¤è¿›ç¨‹ã€‚promiseçš„è§£å†³å€¼ä¼šè¢«å½“ä½œè¯¥awaitè¡¨è¾¾å¼çš„è¿”å›å€¼ã€‚ä½¿ç”¨`async` / `await`å…³é”®å­—å°±å¯ä»¥åœ¨å¼‚æ­¥ä»£ç ä¸­ä½¿ç”¨æ™®é€šçš„`try` / `catch`ä»£ç å—ã€‚
>
> `await`å…³é”®å­—åªåœ¨asyncå‡½æ•°å†…æœ‰æ•ˆã€‚å¦‚æœä½ åœ¨asyncå‡½æ•°ä½“ä¹‹å¤–ä½¿ç”¨å®ƒï¼Œå°±ä¼šæŠ›å‡ºè¯­æ³•é”™è¯¯ [`SyntaxError`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError) ã€‚
>
> `async`/`await`çš„ç›®çš„ä¸ºäº†ç®€åŒ–ä½¿ç”¨åŸºäºpromiseçš„APIæ—¶æ‰€éœ€çš„è¯­æ³•ã€‚`async`/`await`çš„è¡Œä¸ºå°±å¥½åƒæ­é…ä½¿ç”¨äº†ç”Ÿæˆå™¨å’Œpromiseã€‚

- åŸºæœ¬ä½¿ç”¨

```javascript
async function foo() {
   return 1
}
// ç›¸å½“äº
function foo() {
   return Promise.resolve(1)
}

// asyncå‡½æ•°çš„å‡½æ•°ä½“å¯ä»¥è¢«çœ‹ä½œæ˜¯ç”±0ä¸ªæˆ–è€…å¤šä¸ªawaitè¡¨è¾¾å¼åˆ†å‰²å¼€æ¥çš„ã€‚
// ä»ç¬¬ä¸€è¡Œä»£ç ç›´åˆ°ï¼ˆå¹¶åŒ…æ‹¬ï¼‰ç¬¬ä¸€ä¸ªawaitè¡¨è¾¾å¼ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰éƒ½æ˜¯åŒæ­¥è¿è¡Œçš„ã€‚
// è¿™æ ·çš„è¯ï¼Œä¸€ä¸ªä¸å«awaitè¡¨è¾¾å¼çš„asyncå‡½æ•°æ˜¯ä¼šåŒæ­¥è¿è¡Œçš„ã€‚
// ç„¶è€Œï¼Œå¦‚æœå‡½æ•°ä½“å†…æœ‰ä¸€ä¸ªawaitè¡¨è¾¾å¼ï¼Œasyncå‡½æ•°å°±ä¸€å®šä¼šå¼‚æ­¥æ‰§è¡Œã€‚
async function foo() {
   await 1
}
// ç­‰ä»·äº
function foo() {
   return Promise.resolve(1).then(() => undefined)
}
```

- å…¼å®¹æ€§

![](./images/async_broswer.png)

#### [`å…±äº«å†…å­˜`å’Œ`Atomics`ï¼ˆShared memory and atomicsï¼‰](https://github.com/tc39/ecmascript_sharedmem)

> `å…±äº«å†…å­˜`å’Œ`Atomics`ï¼šå¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ„é€ å‡½æ•° `SharedArrayBuffer` å’Œ å…·æœ‰è¾…åŠ©å‡½æ•°çš„å‘½åç©ºé—´å¯¹è±¡ `Atomics`

- **`SharedArrayBuffer`** å¯¹è±¡ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªé€šç”¨çš„ï¼Œå›ºå®šé•¿åº¦çš„åŸå§‹äºŒè¿›åˆ¶æ•°æ®ç¼“å†²åŒºï¼Œç±»ä¼¼äº [`ArrayBuffer`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer) å¯¹è±¡ï¼Œå®ƒä»¬éƒ½å¯ä»¥ç”¨æ¥åœ¨å…±äº«å†…å­˜ï¼ˆshared memoryï¼‰ä¸Šåˆ›å»ºè§†å›¾ã€‚ä¸ `ArrayBuffer` ä¸åŒçš„æ˜¯ï¼Œ`SharedArrayBuffer` ä¸èƒ½è¢«åˆ†ç¦»ã€‚

>  ä¸ºäº†å°†ä¸€ä¸ª[`SharedArrayBuffer`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer) å¯¹è±¡ä»ä¸€ä¸ªç”¨æˆ·ä»£ç†å…±äº«åˆ°å¦ä¸€ä¸ªç”¨æˆ·ä»£ç†ï¼ˆå¦ä¸€ä¸ªé¡µé¢çš„ä¸»è¿›ç¨‹æˆ–è€…å½“å‰é¡µé¢çš„ä¸€ä¸ª `worker` ï¼‰ä»è€Œå®ç°å…±äº«å†…å­˜ï¼Œæˆ‘ä»¬éœ€è¦è¿ç”¨ `postMessage` å’Œç»“æ„åŒ–å…‹éš†ç®—æ³•ï¼ˆ [structured cloning](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm) ï¼‰ã€‚
>
>  `ç»“æ„åŒ–å…‹éš†ç®—æ³•`æ¥æ”¶è¢«æ˜ å°„åˆ°ä¸€ä¸ªæ–°çš„ `SharedArrayBuffers` å¯¹è±¡ä¸Šçš„ `SharedArrayBuffers` å¯¹è±¡ä¸ `TypedArrays` å¯¹è±¡ã€‚åœ¨è¿™ä¸¤ç§æ˜ å°„ä¸‹ï¼Œè¿™ä¸ªæ–°çš„ `SharedArrayBuffer` å¯¹è±¡ä¼šè¢«ä¼ é€’åˆ°ç›®æ ‡ç”¨æˆ·ä»£ç†çš„æ¥æ”¶å‡½æ•°ä¸Šï¼Œå¯¼è‡´åœ¨ç›®æ ‡ç”¨æˆ·ä»£ç†äº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„ç§æœ‰ `SharedArrayBuffer` å¯¹è±¡ï¼ˆæ­£å¦‚ [`ArrayBuffer`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer) ä¸€æ ·ï¼‰ã€‚ç„¶è€Œï¼Œè¿™ä¸¤ä¸ª `SharedArrayBuffer` å¯¹è±¡æŒ‡å‘çš„å…±äº«æ•°æ®å—å…¶å®æ˜¯åŒä¸€ä¸ªï¼Œå¹¶ä¸”åœ¨æŸä¸€ä»£ç†ä¸­çš„ä¸€ä¸ªå—çš„å‰¯ä½œç”¨å°†æœ€ç»ˆå¯¼è‡´å¦ä¸€ä¸ªä»£ç†å…·æœ‰å¯è§æ€§ã€‚

- **`Atomics`** å¯¹è±¡æä¾›äº†ä¸€ç»„é™æ€æ–¹æ³•å¯¹ [`SharedArrayBuffer`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer) å’Œ  [`ArrayBuffer`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer) å¯¹è±¡è¿›è¡ŒåŸå­æ“ä½œã€‚

> è¿™äº›åŸå­æ“ä½œå±äº `Atomics` æ¨¡å—ã€‚ä¸ä¸€èˆ¬çš„å…¨å±€å¯¹è±¡ä¸åŒï¼Œ`Atomics` ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨ [new](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new) æ“ä½œç¬¦è°ƒç”¨ï¼Œä¹Ÿä¸èƒ½å°†å…¶å½“ä½œå‡½æ•°ç›´æ¥è°ƒç”¨ã€‚`Atomics` çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯é™æ€çš„ï¼ˆä¸ [`Math`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math) å¯¹è±¡ä¸€æ ·ï¼‰ã€‚

### ES7æ–°ç‰¹æ€§ï¼ˆ2016å‘å¸ƒï¼‰

#### [`Array.prototype.includes`](https://github.com/tc39/Array.prototype.includes)

> `includes()` æ–¹æ³•ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œæ ¹æ®æƒ…å†µï¼Œå¦‚æœåŒ…å«åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å›falseã€‚

- è¯­æ³•

```javascript
/**
	* valueToFindï¼šéœ€è¦æŸ¥æ‰¾çš„å…ƒç´ å€¼ã€‚
	* fromIndexï¼ˆå¯é€‰ï¼‰ï¼šä»fromIndex ç´¢å¼•å¤„å¼€å§‹æŸ¥æ‰¾ valueToFindã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œåˆ™æŒ‰å‡åºä» array.length + fromIndex çš„ç´¢å¼•å¼€å§‹æœ ï¼ˆå³ä½¿ä»æœ«å°¾å¼€å§‹å¾€å‰è·³ fromIndex çš„ç»å¯¹å€¼ä¸ªç´¢å¼•ï¼Œç„¶åå¾€åæœå¯»ï¼‰ã€‚é»˜è®¤ä¸º 0ã€‚
	* è¿”å›ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ Boolean ï¼Œå¦‚æœåœ¨æ•°ç»„ä¸­æ‰¾åˆ°äº†ï¼ˆå¦‚æœä¼ å…¥äº† fromIndex ï¼Œè¡¨ç¤ºåœ¨ fromIndex æŒ‡å®šçš„ç´¢å¼•èŒƒå›´ä¸­æ‰¾åˆ°äº†ï¼‰åˆ™è¿”å› true ã€‚
	*/
arr.includes(valueToFind[, fromIndex])
```

- åŸºæœ¬ä½¿ç”¨

```javascript
[1, 2, 3].includes(2);     // true
[1, 2, 3].includes(4);     // false
[1, 2, 3].includes(3, 3);  // false
[1, 2, 3].includes(3, -1); // true
[1, 2, NaN].includes(NaN); // true
```

- å¦‚æœ `fromIndex `ä¸ºè´Ÿå€¼ï¼Œè®¡ç®—å‡ºçš„ç´¢å¼•å°†ä½œä¸ºå¼€å§‹æœç´¢`searchElement`çš„ä½ç½®ã€‚å¦‚æœè®¡ç®—å‡ºçš„ç´¢å¼•å°äº 0ï¼Œåˆ™æ•´ä¸ªæ•°ç»„éƒ½ä¼šè¢«æœç´¢ã€‚

```javascript
// è®¡ç®—ç´¢å¼•å°äº0
// array length is 3
// fromIndex is -100
// computed index is 3 + (-100) = -97
var arr = ['a', 'b', 'c'];

arr.includes('a', -100); // true
arr.includes('b', -100); // true
arr.includes('c', -100); // true
arr.includes('a', -2); // false
```

- å…¼å®¹æ€§

![](./images/includes_broswer.png)

#### [æ±‚å¹‚ (**)ï¼ˆExponentiation operatorï¼‰](https://github.com/tc39/proposal-exponentiation-operator)

> æ±‚å¹‚è¿ç®—ç¬¦ï¼ˆ`**`ï¼‰è¿”å›å°†ç¬¬ä¸€ä¸ªæ“ä½œæ•°åŠ åˆ°ç¬¬äºŒä¸ªæ“ä½œæ•°çš„å¹‚çš„ç»“æœã€‚å®ƒç­‰æ•ˆäº`Math.pow`ï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒä¹Ÿæ¥å—BigIntsä½œä¸ºæ“ä½œæ•°ã€‚
>
> æ±‚å¹‚è¿ç®—ç¬¦æ˜¯æ˜¯**å³ç»“åˆçš„**: `a ** b ** c` ç­‰äº `a ** (b ** c)`.

- åŸºæœ¬ä½¿ç”¨

```javascript
2 ** 3   // 8
3 ** 2   // 9
3 ** 2.5 // 15.588457268119896
10 ** -1 // 0.1
NaN ** 2 // NaN

// å³ç»“åˆæ€§
2 ** 3 ** 2   // 512
2 ** (3 ** 2) // 512
(2 ** 3) ** 2 // 64

// ä¸ä¸€å…ƒè¿ç®—ç¬¦ç»“åˆ
-(2 ** 2) // -4
(-2) ** 2 // 4
```

- åœ¨JavaScripté‡Œï¼Œä½ ä¸å¯èƒ½å†™å‡ºä¸€ä¸ªä¸æ˜ç¡®çš„æ±‚å¹‚è¡¨è¾¾å¼ã€‚è¿™å°±æ˜¯è¯´ï¼Œä½ ä¸èƒ½ç«‹åˆ»å°†ä¸€ä¸ªä¸€å…ƒè¿ç®—ç¬¦ï¼ˆ`+/-/~/!/delete/void/typeof`ï¼‰æ”¾åœ¨åŸºæ•°å‰ï¼Œè¿™æ ·åšåªä¼šå¯¼è‡´ä¸€ä¸ªè¯­æ³•é”™è¯¯ã€‚

```javascript
-2 ** 2; 
// 4 in Bash, -4 in other languages. 
// This is invalid in JavaScript, as the operation is ambiguous. 

-(2 ** 2); 
// -4 in JavaScript and the author's intention is unambiguous. 
```

- å…¼å®¹æ€§

![](./images/exponentiation_broswer.png)


### å‚è€ƒ
- [TC39](https://github.com/tc39/proposals/blob/master/finished-proposals.md)
- [MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript)